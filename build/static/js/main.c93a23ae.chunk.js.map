{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/ContactService.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","onChange","value","PersonForm","handleNameChange","newName","handleNumberChange","newNumber","handleAdd","type","onClick","Persons","person","handleDelete","name","number","id","baseUrl","ContactService","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","SuccessNotification","message","className","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","initialPersons","personToDelete","find","window","confirm","deletedPerson","p","e","target","preventDefault","existingPerson","toLowerCase","updatePerson","returnedPerson","map","setTimeout","catch","newPerson","concat","error","list","includes","length","filterContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c93a23ae.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with:\r\n      <input onChange={handleFilterChange} value={filter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  handleNameChange,\r\n  newName,\r\n  handleNumberChange,\r\n  newNumber,\r\n  handleAdd,\r\n}) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        Name: <input onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        Number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={handleAdd}>\r\n          add\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ person, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <p key={person.name}>\r\n        {person.name} {person.number}{\" \"}\r\n        <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst ContactService = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n\r\nexport default ContactService;\r\n","import React from \"react\";\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className=\"success\">{message}</div>;\r\n};\r\n\r\nexport default SuccessNotification;\r\n","import React from \"react\";\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className=\"error\">{message}</div>;\r\n};\r\n\r\nexport default ErrorNotification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport ContactService from \"./services/ContactService\";\nimport \"./index.css\";\nimport SuccessNotification from \"./components/SuccessNotification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  useEffect(() => {\n    ContactService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n\n  const handleAdd = (e) => {\n    e.preventDefault();\n    var existingPerson = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n    if (existingPerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const updatePerson = { ...existingPerson, number: newNumber };\n        ContactService.update(existingPerson.id, updatePerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) =>\n                p.id !== existingPerson.id ? p : updatePerson\n              )\n            );\n            setSuccessMessage(`updated ${returnedPerson.name}`);\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n          })\n          .catch((e) => {\n            setErrorMessage(\n              `Information of ${updatePerson.name} has been removed from server`\n            );\n            setPersons(persons.filter((p) => p.id !== updatePerson.id));\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      ContactService.create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setSuccessMessage(`Added ${returnedPerson.name}`);\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data.error);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleDelete = (id) => {\n    const personToDelete = persons.find((person) => person.id === id);\n    if (\n      window.confirm(\n        `are you sure you want to delete ${personToDelete.name} contact ?`\n      )\n    ) {\n      ContactService.remove(personToDelete.id).then((deletedPerson) => {\n        setPersons(persons.filter((p) => p.id !== personToDelete.id));\n      });\n    }\n  };\n\n  const filterContact = (persons, filter) => {\n    if (filter === null || filter === \"\") {\n      return (\n        <div>\n          {persons.map((person) => (\n            <Persons\n              person={person}\n              key={person.name}\n              handleDelete={handleDelete}\n            />\n          ))}\n        </div>\n      );\n    } else {\n      let list = persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      );\n\n      if (list.length === 0) {\n        return (\n          <div>\n            <p> No contact with this filter found</p>\n          </div>\n        );\n      }\n\n      return (\n        <div>\n          {list.map((person) => (\n            <Persons\n              person={person}\n              key={person.name}\n              handleDelete={handleDelete}\n            />\n          ))}\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h2>Add a New Number</h2>\n      <PersonForm\n        handleAdd={handleAdd}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      {filterContact(persons, filter)}\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}